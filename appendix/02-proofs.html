<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Proofs &mdash; msg-notes 0.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="msg-notes 0.0.0 documentation" href="../index.html" />
    <link rel="up" title="Appendices" href="index.html" />
    <link rel="next" title="Pseudocode" href="03-pseudocode.html" />
    <link rel="prev" title="Test cases" href="01-test-cases.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="03-pseudocode.html" title="Pseudocode"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="01-test-cases.html" title="Test cases"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">msg-notes 0.0.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Appendices</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="proofs">
<h1>Proofs<a class="headerlink" href="#proofs" title="Permalink to this headline">¶</a></h1>
<div class="section" id="causal-ordering">
<h2>Causal ordering<a class="headerlink" href="#causal-ordering" title="Permalink to this headline">¶</a></h2>
<div class="section" id="formal-model-for-diff-and-apply">
<span id="diff-apply-model"></span><h3>Formal model for diff and apply<a class="headerlink" href="#formal-model-for-diff-and-apply" title="Permalink to this headline">¶</a></h3>
<p>This is similar to, but not exactly the same as, darcs&#8217; <cite>theory of patches</cite>.
Their theory is more developed with more &#8220;useful&#8221; results, but is also places
more constraints on what valid patches are.</p>
<p>We try to be more general (less constrained), to demonstrate that the rest of
our work depends on fewer assumptions than their model. For example, we don&#8217;t
need a notion of &#8220;compose two patches into another patch&#8221;, and we only have
partial notions of &#8220;applying n patches is equivalent to &lt;n other patches&#8221;.</p>
<p>Objects of our investigation:</p>
<dl class="docutils">
<dt>S</dt>
<dd>set of all possible states</dd>
<dt>D</dt>
<dd>set of all possible patches</dd>
<dt>▵ :: S x S → D</dt>
<dd>binary operation: diff an earlier state with a later state; always succeeds</dd>
<dt>· :: S x D → S ∪ {⊥}</dt>
<dd>binary operation: apply a patch to a state; may fail, represented by ⊥</dd>
</dl>
<p>Axioms:</p>
<ol class="arabic">
<li><p class="first">Zero diff</p>
<p>∀ s ∈ S: s ▵ s = 0</p>
</li>
<li><p class="first">Diff-apply conversion</p>
<p>∀ s, t ∈ S; d ∈ D: s · d = t ⇔ d = s ▵ t</p>
</li>
<li><p class="first">Apply cancellation</p>
<p>∀ s ∈ S; d, e ∈ D: s · d = s · e ≠ ⊥ ⇒ d = e</p>
<p>Note the converse is already true due to how = works.</p>
</li>
<li><p class="first">Diff inverse</p>
<p>∀ s, t ∈ S: s ▵ t = -(t ▵ s)</p>
</li>
<li><p class="first">Diff cancellation</p>
<p>∀ s ∈ S; d ∈ D: s · d ≠ ⊥ ⇒ s · d · -d = s</p>
<p>Note the converse is already true due to the definition of ·.</p>
</li>
<li><p class="first">Weak commutativity (optional)</p>
<p>∀ o, a, b ∈ S: o · (o ▵ a) · (o ▵ b) = o · (o ▵ b) · (o ▵ a)</p>
</li>
</ol>
<p>Lemmas: (TODO)</p>
<ol class="arabic">
<li><p class="first">Zero apply (by A2, A1)</p>
<p>∀ s ∈ S: s · 0 = s</p>
</li>
<li><p class="first">Diff collapse (by A2, A3)</p>
<p>∀ s ∈ S; d ∈ D: s ▵ (s · d) = d</p>
</li>
<li><p class="first">Apply collapse (by A2, A3)</p>
<p>∀ s, t ∈ S: s · (s ▵ t) = t</p>
</li>
</ol>
<p>Theorems:</p>
<p>Let 3-way-merge(o, a, b) = b · (o ▵ a)</p>
<ol class="arabic">
<li><p class="first">First argument defines the identity element.</p>
<div class="line-block">
<div class="line">3-way-merge(o, a, o) = a (by L3)</div>
<div class="line">3-way-merge(o, o, a) = a (by A1, L1)</div>
</div>
</li>
<li><p class="first">If A6, then 3-way-merge is commutative under fixed o (by L3, A6)</p>
<p>∀ o, a, b ∈ S: b · (o ▵ a) = a · (o ▵ b)</p>
</li>
</ol>
</div>
</div>
<div class="section" id="greeting-protocols">
<h2>Greeting protocols<a class="headerlink" href="#greeting-protocols" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="key-rotation-ratchets">
<h2>Key-rotation ratchets<a class="headerlink" href="#key-rotation-ratchets" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Proofs</a><ul>
<li><a class="reference internal" href="#causal-ordering">Causal ordering</a><ul>
<li><a class="reference internal" href="#formal-model-for-diff-and-apply">Formal model for diff and apply</a></li>
</ul>
</li>
<li><a class="reference internal" href="#greeting-protocols">Greeting protocols</a></li>
<li><a class="reference internal" href="#key-rotation-ratchets">Key-rotation ratchets</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="01-test-cases.html"
                        title="previous chapter">Test cases</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="03-pseudocode.html"
                        title="next chapter">Pseudocode</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/appendix/02-proofs.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="03-pseudocode.html" title="Pseudocode"
             >next</a> |</li>
        <li class="right" >
          <a href="01-test-cases.html" title="Test cases"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">msg-notes 0.0.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Appendices</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014-2015 Mega Limited, licensed under CC-BY-SA-4.0.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>